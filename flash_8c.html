<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Faraday-Firmware: Faraday_HAL/flash.c File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Faraday-Firmware
   &#160;<span id="projectnumber">1</span>
   </div>
   <div id="projectbrief">Firmware for the Faraday digital amateur radio</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('flash_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Faraday_HAL/flash.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>CC430 flash memory functionallity.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;cc430f6137.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="flash_8h_source.html">flash.h</a>&quot;</code><br/>
<code>#include &quot;string.h&quot;</code><br/>
</div><table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flash_8c.html#ae023cc7fc5b612b26783249a3d5e8c0d">flash_erase_segment</a> (long memory_loc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase Flash memory segment.  <a href="#ae023cc7fc5b612b26783249a3d5e8c0d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flash_8c.html#ac9b90d1be04738d89bd983145dd0c960">flash_write_char</a> (unsigned int address, unsigned char byte)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write byte into a Flash memory location.  <a href="#ac9b90d1be04738d89bd983145dd0c960"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flash_8c.html#aa0d8f73e87899b5f10c76bae0c5bd703">flash_write_info_c_segment_char</a> (unsigned char offset, unsigned char byte)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a byte to the Info C segment memory location.  <a href="#aa0d8f73e87899b5f10c76bae0c5bd703"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flash_8c.html#adef050ccfd883d91b51a01a38389028e">flash_write_info_c_segment_int</a> (unsigned char offset, unsigned int integer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write an integer to the Info C segment memory location.  <a href="#adef050ccfd883d91b51a01a38389028e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flash_8c.html#aeeab23090190007f20e44e42e67bcf4c">flash_write_buffer</a> (unsigned int address, unsigned char *buff, unsigned int len)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write multiple bytes into Flash memory.  <a href="#aeeab23090190007f20e44e42e67bcf4c"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>CC430 flash memory functionallity. </p>
<p>These functions provide access to the internal CC430 flash memory modification.</p>
<p>Memory Segments:</p>
<ul>
<li>Information segments are 128 bytes long</li>
</ul>
<p>Main memory segments are 512 bytes long </p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="ae023cc7fc5b612b26783249a3d5e8c0d"></a><!-- doxytag: member="flash.c::flash_erase_segment" ref="ae023cc7fc5b612b26783249a3d5e8c0d" args="(long memory_loc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="flash_8h.html#ae023cc7fc5b612b26783249a3d5e8c0d">flash_erase_segment</a> </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>memory_loc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Erase Flash memory segment. </p>
<p>Description: This function is intended to erase a memory locations segment in FLASH, specifically the info segments.</p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>Interrupts must be disabled when writing to FLASH. If they are not and an interrupt occurs the interrupt will not return correctly and will lock the CC430 until it is power cycled.</dd>
<dd>
This function will erase the entire segment that the memory location is located within!</dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">memory_loc</td><td>Memory address location to erase. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aeeab23090190007f20e44e42e67bcf4c"></a><!-- doxytag: member="flash.c::flash_write_buffer" ref="aeeab23090190007f20e44e42e67bcf4c" args="(unsigned int address, unsigned char *buff, unsigned int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="flash_8h.html#aeeab23090190007f20e44e42e67bcf4c">flash_write_buffer</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write multiple bytes into Flash memory. </p>
<p>This function allows the writing of multiple bytes in a single command to be written to the Flash memory location provided.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The integer address of the flash memory location that the first byte of the multiple bytes will be written too </td></tr>
    <tr><td class="paramname">buff</td><td>A pointer to the bytearray location (first byte) to be written into the Flash memory location provided </td></tr>
    <tr><td class="paramname">len</td><td>The length of the byte array to be written to Flash memory in bytes </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac9b90d1be04738d89bd983145dd0c960"></a><!-- doxytag: member="flash.c::flash_write_char" ref="ac9b90d1be04738d89bd983145dd0c960" args="(unsigned int address, unsigned char byte)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="flash_8h.html#ac9b90d1be04738d89bd983145dd0c960">flash_write_char</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>byte</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write byte into a Flash memory location. </p>
<p>This function allows a single byte to be written into a memory location in the CC430 Flash.</p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>The location being written too must be erased prior. </dd></dl>

</div>
</div>
<a class="anchor" id="aa0d8f73e87899b5f10c76bae0c5bd703"></a><!-- doxytag: member="flash.c::flash_write_info_c_segment_char" ref="aa0d8f73e87899b5f10c76bae0c5bd703" args="(unsigned char offset, unsigned char byte)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="flash_8h.html#aa0d8f73e87899b5f10c76bae0c5bd703">flash_write_info_c_segment_char</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>byte</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write a byte to the Info C segment memory location. </p>
<p>This is a quick abstraction that allows quick access to flash memory segment C. The intended byte to be written along with an offset from the start of Flash memory segment C is to be provided.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">offset</td><td>Offset in bytes from the beginning of the Flash memory information segment C </td></tr>
    <tr><td class="paramname">byte</td><td>The byte to be written to the Flash memory location addressed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="adef050ccfd883d91b51a01a38389028e"></a><!-- doxytag: member="flash.c::flash_write_info_c_segment_int" ref="adef050ccfd883d91b51a01a38389028e" args="(unsigned char offset, unsigned int integer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="flash_8h.html#adef050ccfd883d91b51a01a38389028e">flash_write_info_c_segment_int</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>integer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write an integer to the Info C segment memory location. </p>
<p>This is a quick abstraction that allows quick access to flash memory segment C. The intended integer to be written along with an offset from the start of Flash memory segment C is to be provided.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">offset</td><td>Offset in bytes from the beginning of the Flash memory information segment C </td></tr>
    <tr><td class="paramname">integer</td><td>The integer to be written to the Flash memory location addressed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="flash_8c.html">flash.c</a>      </li>

    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
