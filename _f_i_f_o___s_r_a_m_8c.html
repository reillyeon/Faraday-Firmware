<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Faraday-Firmware: Ring_Buffers/FIFO_SRAM.c File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Faraday-Firmware
   &#160;<span id="projectnumber">1</span>
   </div>
   <div id="projectbrief">Firmware for the Faraday digital amateur radio</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('_f_i_f_o___s_r_a_m_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Ring_Buffers/FIFO_SRAM.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>FIFO circular buffer implementation using SPI SRAM IC.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;cc430f6137.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="_f_i_f_o___s_r_a_m_8h_source.html">FIFO_SRAM.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_s_r_a_m_8h_source.html">../SRAM/SRAM.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_i_f_o___s_r_a_m_8c.html#a23748a514440d2028fbef02cad52c06e">fifo_sram_init</a> (<a class="el" href="_f_i_f_o___s_r_a_m_8h.html#a2b243c99b78f32a05aa87dc93f773026">fifo_sram_state_machine</a> *buffer_struct, const unsigned int sram_address, const unsigned int element_size, const unsigned char element_count)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialization routine for a SRAM FIFO.  <a href="#a23748a514440d2028fbef02cad52c06e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_i_f_o___s_r_a_m_8c.html#a8bde7c80b8286598571ee73d9af32e1e">put_fifo_sram</a> (<a class="el" href="_f_i_f_o___s_r_a_m_8h.html#a2b243c99b78f32a05aa87dc93f773026">fifo_sram_state_machine</a> *buffer_struct, unsigned char *char_item)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Put a new data element into the FIFO buffer.  <a href="#a8bde7c80b8286598571ee73d9af32e1e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_i_f_o___s_r_a_m_8c.html#a534d280192e45b3ad827b375ac8ffa45">get_fifo_sram</a> (<a class="el" href="_f_i_f_o___s_r_a_m_8h.html#a2b243c99b78f32a05aa87dc93f773026">fifo_sram_state_machine</a> *buffer_struct, unsigned char *get_byte_addr)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a new data element from the FIFO buffer.  <a href="#a534d280192e45b3ad827b375ac8ffa45"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>FIFO circular buffer implementation using SPI SRAM IC. </p>
<p>These functions create a FIFO circular buffer using the onboard SPI SRAM IC. The SRAM IC provides significantly more memory than the onboard RAM of the CC430. The circular buffers defined below are written as generic as possible to allow varying element lengths, counts, etc... </p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="a23748a514440d2028fbef02cad52c06e"></a><!-- doxytag: member="FIFO_SRAM.c::fifo_sram_init" ref="a23748a514440d2028fbef02cad52c06e" args="(fifo_sram_state_machine *buffer_struct, const unsigned int sram_address, const unsigned int element_size, const unsigned char element_count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="_f_i_f_o___s_r_a_m_8h.html#a23748a514440d2028fbef02cad52c06e">fifo_sram_init</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_f_i_f_o___s_r_a_m_8h.html#a2b243c99b78f32a05aa87dc93f773026">fifo_sram_state_machine</a> *&#160;</td>
          <td class="paramname"><em>buffer_struct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>sram_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>element_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char&#160;</td>
          <td class="paramname"><em>element_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialization routine for a SRAM FIFO. </p>
<p>This function is used by an application/program to initialize a fifo_sram_state_machine structure with needed configuration data. </p>

</div>
</div>
<a class="anchor" id="a534d280192e45b3ad827b375ac8ffa45"></a><!-- doxytag: member="FIFO_SRAM.c::get_fifo_sram" ref="a534d280192e45b3ad827b375ac8ffa45" args="(fifo_sram_state_machine *buffer_struct, unsigned char *get_byte_addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char <a class="el" href="_f_i_f_o___s_r_a_m_8h.html#ac07d7acb0e868b710d8bc71bd393e9f3">get_fifo_sram</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_f_i_f_o___s_r_a_m_8h.html#a2b243c99b78f32a05aa87dc93f773026">fifo_sram_state_machine</a> *&#160;</td>
          <td class="paramname"><em>buffer_struct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>get_byte</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a new data element from the FIFO buffer. </p>
<p>This function is used to retrieve a waiting item (element) from the FIFO buffer. Supplying the fifo_sram_state_machine structure variable of the respective SRAM FIFO is required.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer_struct</td><td>A pointer to the fifo_sram_state_machine FIFO structure element containing the configuration data of the SRAM FIFO to retrieve data from </td></tr>
    <tr><td class="paramname">get_byte</td><td>A pointer to the data byte/element that the SRAM FIFO will place the retrieved element into. If the SRAM FIFO element size is larger than a byte the function will automatically retrieve the number of bytes an element is defined in the fifo_sram_state_machine supplied</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>function returns a status byte indicating a successful <a class="el" href="_f_i_f_o___s_r_a_m_8c.html#a534d280192e45b3ad827b375ac8ffa45" title="Get a new data element from the FIFO buffer.">get_fifo_sram()</a> operation. Returns 1 if success, 0 if fail (likley an overflow). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8bde7c80b8286598571ee73d9af32e1e"></a><!-- doxytag: member="FIFO_SRAM.c::put_fifo_sram" ref="a8bde7c80b8286598571ee73d9af32e1e" args="(fifo_sram_state_machine *buffer_struct, unsigned char *char_item)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char <a class="el" href="_f_i_f_o___s_r_a_m_8h.html#a8bde7c80b8286598571ee73d9af32e1e">put_fifo_sram</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_f_i_f_o___s_r_a_m_8h.html#a2b243c99b78f32a05aa87dc93f773026">fifo_sram_state_machine</a> *&#160;</td>
          <td class="paramname"><em>buffer_struct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>char_item</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Put a new data element into the FIFO buffer. </p>
<p>This function is used to place a new item (element) into the FIFO buffer. Supplying the fifo_sram_state_machine structure variable of the respective SRAM FIFO is required.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer_struct</td><td>A pointer to the fifo_sram_state_machine FIFO structure element containing the configuration data of the SRAM FIFO to place the data element into </td></tr>
    <tr><td class="paramname">char_item</td><td>A pointer to the data byte/element that will be placed into the SRAM FIFO. If the SRAM FIFO element size is larger than a byte the function will automatically retrieve the number of bytes an element is defined in the fifo_sram_state_machine supplied</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>function returns a status byte indicating a successful <a class="el" href="_f_i_f_o___s_r_a_m_8c.html#a8bde7c80b8286598571ee73d9af32e1e" title="Put a new data element into the FIFO buffer.">put_fifo_sram()</a> operation. Returns 1 if success, 0 if fail (likley an overflow). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="_f_i_f_o___s_r_a_m_8c.html">FIFO_SRAM.c</a>      </li>

    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
