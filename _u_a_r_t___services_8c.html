<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Faraday-Firmware: UART/UART_Services.c File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Faraday-Firmware
   &#160;<span id="projectnumber">1</span>
   </div>
   <div id="projectbrief">Firmware for the Faraday digital amateur radio</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('_u_a_r_t___services_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">UART/UART_Services.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Faraday UART Network Stack - Layer 4 Services.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="_u_a_r_t___services_8h_source.html">UART_Services.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_u_a_r_t___l4_8h_source.html">UART_L4.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_a_r_t___services_8c.html#ac39388932b5ac795d3d6ff998e97080b">uart_send</a> (unsigned char service_number, unsigned char payload_length, unsigned char *payload)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Service used to send a payload over the UART layer 4 protocol.  <a href="#ac39388932b5ac795d3d6ff998e97080b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_a_r_t___services_8c.html#a3c0d24d8d457c63470ffbb2db2c442a0">uart_service_open</a> (unsigned char service_number, void(*func_ptr)(void))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Register an application receive FIFO.  <a href="#a3c0d24d8d457c63470ffbb2db2c442a0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_a_r_t___services_8c.html#a06339d570ae0dbedeac4241dc829fc4d">uart_service_close</a> (unsigned char service_number)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister an application receive FIFO.  <a href="#a06339d570ae0dbedeac4241dc829fc4d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_a_r_t___services_8c.html#a2be40b37b3a664e9774ab390399c64df">uart_stack_rx</a> (unsigned char service_number, unsigned char *data, unsigned char payload_len)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Place data into an application receive FIFO.  <a href="#a2be40b37b3a664e9774ab390399c64df"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Initializing UART Receive Service Port Function Pointer Array</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">volatile void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_a_r_t___services_8c.html#a0d630b625198aeaa78ea7a63ec72f4b3">srvc_open_func_ptrs</a> [UART_SERVICE_ELEMENT_COUNT])(unsigned char *data_pointer, unsigned char data_length)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Faraday UART Network Stack - Layer 4 Services. </p>
<p>This source file provides the layer 4 (TRANSPORT) layer protocol services. Providing service functions allows the protocol to be interacted with in an abstracted method that better suites layer isolation and layer modularity. </p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="ac39388932b5ac795d3d6ff998e97080b"></a><!-- doxytag: member="UART_Services.c::uart_send" ref="ac39388932b5ac795d3d6ff998e97080b" args="(unsigned char service_number, unsigned char payload_length, unsigned char *payload)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="_u_a_r_t___services_8h.html#ac39388932b5ac795d3d6ff998e97080b">uart_send</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>service_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>payload_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Service used to send a payload over the UART layer 4 protocol. </p>
<p>A generic service used to send data over UART layer 4 protocol. This should be used as the main interface for the UART layer 4 protocol to send data.</p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>Adhere to maximum transmissible unit limits </dd></dl>

</div>
</div>
<a class="anchor" id="a06339d570ae0dbedeac4241dc829fc4d"></a><!-- doxytag: member="UART_Services.c::uart_service_close" ref="a06339d570ae0dbedeac4241dc829fc4d" args="(unsigned char service_number)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="_u_a_r_t___services_8h.html#a06339d570ae0dbedeac4241dc829fc4d">uart_service_close</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>service_number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Unregister an application receive FIFO. </p>
<p>This function removes an application receive FIFO from the assigned UART "service port" as assigned in <a class="el" href="_u_a_r_t___services_8c.html#a3c0d24d8d457c63470ffbb2db2c442a0" title="Register an application receive FIFO.">uart_service_open()</a>. </p>

</div>
</div>
<a class="anchor" id="a3c0d24d8d457c63470ffbb2db2c442a0"></a><!-- doxytag: member="UART_Services.c::uart_service_open" ref="a3c0d24d8d457c63470ffbb2db2c442a0" args="(unsigned char service_number, void(*func_ptr)(void))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="_u_a_r_t___services_8h.html#a3c0d24d8d457c63470ffbb2db2c442a0">uart_service_open</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>service_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void)&#160;</td>
          <td class="paramname"><em>func_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Register an application receive FIFO. </p>
<p>This function creates a function pointer to an application function refering to a specific UART "service port" when used and allows the UART layer 4 to place received data packets into the application FIFO without the UART layer 4 service having to include or know about the application!</p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>Be sure that the function pointed to in the application adheres to the defined function expected per documentation. Unreliable operation may occure if this is not followed.</dd></dl>
<p>//expected function example: // void command_put(unsigned char *data_pointer, unsigned char length){ // put_fifo(&amp;command_state_machine, &amp;command_fifo_buffer, data_pointer); // __no_operation(); // } </p>

</div>
</div>
<a class="anchor" id="a2be40b37b3a664e9774ab390399c64df"></a><!-- doxytag: member="UART_Services.c::uart_stack_rx" ref="a2be40b37b3a664e9774ab390399c64df" args="(unsigned char service_number, unsigned char *data, unsigned char payload_len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="_u_a_r_t___services_8h.html#a2be40b37b3a664e9774ab390399c64df">uart_stack_rx</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>service_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>payload_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Place data into an application receive FIFO. </p>
<p>This is the main UART layer 4 service function that queries the registered applications in the function pointer array and if the UART "service port" has an assigned application the supplied data is placed into the applications FIFO.</p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>Be sure that the function pointed to in the application adheres to the defined function expected per documentation. Unreliable operation may occure if this is not followed. </dd></dl>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a0d630b625198aeaa78ea7a63ec72f4b3"></a><!-- doxytag: member="UART_Services.c::srvc_open_func_ptrs" ref="a0d630b625198aeaa78ea7a63ec72f4b3" args="[UART_SERVICE_ELEMENT_COUNT])(unsigned char *data_pointer, unsigned char data_length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile void(* <a class="el" href="_u_a_r_t___services_8c.html#a0d630b625198aeaa78ea7a63ec72f4b3">srvc_open_func_ptrs</a>[UART_SERVICE_ELEMENT_COUNT])(unsigned char *data_pointer, unsigned char data_length)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A function pointer array that holds the pointer to the functions where data will be put into when received on the "service port" </p>

</div>
</div>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="_u_a_r_t___services_8c.html">UART_Services.c</a>      </li>

    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
